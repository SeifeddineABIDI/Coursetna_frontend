<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz by Topic</title>
</head>
<body>
    <header>
        <h2>QUIZ TIME</h2>
    </header>

    <main>
      <div *ngIf="timeRemaining >= 0" class="timer">
        <span class="timer-label">Time Remaining:</span>
        <span class="timer-value">{{ formatTime(timeRemaining) }}</span>
        <span class="icon-container">
          <img src="../../../../../assets/images/avatars/hourglass.png" alt="Hourglass Icon" class="icon"[ngClass]="{'spinning': timeRemaining > 1}" >
        </span>
      </div>

        <section class="topics" *ngFor="let question of questions; let i = index">
            <h2>Question {{ i + 1 }} / {{ questions.length }} ({{ question.points }}pts)</h2>
            <h6>{{ question.question }}</h6>
            <!-- <ul class="answer-options">
              <li>
                <label>
                  <input type="radio" formControlName="userAnswers" [value]="question.choice1"> {{ question.choice1 }}
                </label>
              </li>
              <li>
                <label>
                  <input type="radio" formControlName="userAnswers" [value]="question.choice2"> {{ question.choice2 }}
                </label>
              </li>
              <li>
                <label>
                  <input type="radio" formControlName="userAnswers" [value]="question.choice3" > {{ question.choice3 }}
                </label>
              </li>
            </ul>
            <div *ngIf="quizForm.get('selectedOption').errors && quizForm.get('selectedOption').errors.required" class="text-danger">Vous devez choisir une option.</div> -->

            <!-- <div *ngIf="quizForm.get('answer'+i)?.errors?.required " style="color: red;">Question required</div> -->
          
            <form [formGroup]="quizForm">
              <div class="form-group">
                <div class="form-check">
                  <input class="form-check-input" type="radio" formControlName="selectedOption" [value]="question.choice1">
                  <label class="form-check-label">{{ question.choice1 }}</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" formControlName="selectedOption" [value]="question.choice2">
                  <label class="form-check-label">{{ question.choice2 }}</label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" formControlName="selectedOption" [value]="question.choice3">
                  <label class="form-check-label">{{ question.choice3 }}</label>
                </div>
                <div *ngIf="quizForm.get('selectedOption').errors && quizForm.get('selectedOption').errors.required" class="text-danger">Vous devez choisir une option.</div>
              </div>
            </form>
          </section>
        
        <div class="button-container">
          <button class="btn btn-primary" (click)="saveQuiz()" [disabled]="quizForm.invalid ">Save Quiz</button>
        </div>


        
    </main>
</body>
</html>
